<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning Platform</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
        .navbar, .auth-section, .welcome-section, .loading-section, .quiz-section, .scorecard-section, .review-section, .timer-section, .notification-section {
            padding: 20px; text-align: center;
        }
        .navbar { background-color: #f8f8f8; }
        .navbar a { margin: 0 10px; text-decoration: none; color: #333; }
        .auth-section, .welcome-section, .quiz-section, .scorecard-section { margin: 20px auto; max-width: 600px; }
        .auth-section input, .auth-section button { margin: 10px; padding: 8px; }
        .quiz-section button { margin: 5px; padding: 10px 20px; }
        .scorecard-section div { margin: 10px 0; }
        .timer-section, .notification-section { position: fixed; bottom: 10px; width: 100%; text-align: center; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <div class="navbar">
        <div>
            <h2>Learning Platform</h2>
        </div>
        <div>
            <a href="#" id="slides-link">Slides</a>
            <a href="#" id="check-answers-link">Check Answers</a>
            <a href="#" id="score-card-link">Score Card</a>
            <a href="#" id="logout-link">Logout</a>
        </div>
        <div>
            <span>User</span>
        </div>
    </div>

    <div class="auth-section" id="auth-section">
        <h2>Think and Grow Rich</h2>
        <p>Interactive Learning Platform</p>
        <div>
            <button id="login-btn">Login</button>
            <button id="register-btn">Register</button>
        </div>
        <div id="login-form" class="hidden">
            <input type="text" placeholder="Username" id="login-username">
            <input type="password" placeholder="Password" id="login-password">
            <button onclick="handleLogin()">Login</button>
        </div>
        <div id="register-form" class="hidden">
            <input type="text" placeholder="Username" id="register-username">
            <input type="password" placeholder="Password" id="register-password">
            <input type="email" placeholder="Email" id="register-email">
            <input type="text" placeholder="Full Name" id="register-fullname">
            <button onclick="handleRegister()">Register</button>
        </div>
    </div>

    <div class="welcome-section hidden" id="welcome-section">
        <h2>Welcome, User!</h2>
        <p>Ready to explore the principles of success from Napoleon Hill's masterpiece?</p>
        <div>
            <h3>Think and Grow Rich</h3>
            <p>15 Interactive Slides • 45 Questions • Personalized Learning</p>
        </div>
        <button onclick="startLearning()">Start Learning Journey</button>
    </div>

    <div class="loading-section hidden" id="loading-section">
        <h3>Loading...</h3>
        <p>Welcome, User</p>
        <div>
            <div>
                <span>0%</span>
            </div>
        </div>
    </div>

    <div class="quiz-section hidden" id="quiz-section">
        <div id="slide-content">
            <p>Loading slide content...</p>
        </div>
        <div id="question-section">
            <h3 id="question-title">Question 1 of 3</h3>
            <p id="question-text">Loading question...</p>
            <div id="options"></div>
            <div>
                <button id="prev-question" onclick="prevQuestion()">Previous</button>
                <button id="next-question" onclick="nextQuestion()">Next</button>
            </div>
        </div>
        <div id="navigation-section" class="hidden">
            <button onclick="prevSlide()">Previous Slide</button>
            <button onclick="startQuiz()">Start Quiz</button>
        </div>
    </div>

    <div class="scorecard-section hidden" id="scorecard-section">
        <h2>Learning Complete!</h2>
        <p>Congratulations on finishing all 15 slides!</p>
        <div>
            <div>Name: <span id="scorecard-name">-</span></div>
            <div>Marks Obtained: <span id="scorecard-marks">-</span></div>
            <div>Grade: <span id="scorecard-grade">-</span></div>
            <div>Time Spent: <span id="scorecard-time">-</span></div>
            <div>Book: Think and Grow Rich</div>
        </div>
        <p>Great job on completing the course!</p>
        <div>
            <button onclick="downloadScoreCard()">Download Score Card</button>
            <button onclick="retakeCourse()">Retake Course</button>
        </div>
    </div>

    <div class="review-section hidden" id="review-section">
        <h2>Review Your Answers</h2>
        <p>Compare your selected answers with the correct ones</p>
        <div id="review-content"></div>
    </div>

    <div class="timer-section">
        <span id="timer">00:00:00</span>
    </div>

    <div class="notification-section">
        <p>Notification</p>
    </div>

    <script>
        // Sample data structure for slides and questions
        const slides = [
            {
                id: 1,
                content: "Slide 1: Introduction to Think and Grow Rich",
                questions: [
                    { id: 1, text: "What is the main theme of Think and Grow Rich?", options: ["Wealth", "Health", "Happiness", "Education"], correct: 0 },
                    { id: 2, text: "Who is the author?", options: ["Napoleon Hill", "Dale Carnegie", "Zig Ziglar", "Tony Robbins"], correct: 0 },
                    { id: 3, text: "What is key to success?", options: ["Desire", "Luck", "Talent", "Connections"], correct: 0 }
                ]
            },
            // Add more slides as needed (up to 15)
            { id: 2, content: "Slide 2: Desire", questions: [
                { id: 1, text: "What drives success?", options: ["Desire", "Fear", "Doubt", "Procrastination"], correct: 0 },
                { id: 2, text: "Desire should be?", options: ["Vague", "Definite", "Temporary", "Hidden"], correct: 1 },
                { id: 3, text: "What supports desire?", options: ["Plan", "Wish", "Hope", "Dream"], correct: 0 }
            ]},
            // Placeholder for remaining slides
            ...Array.from({ length: 13 }, (_, i) => ({
                id: i + 3,
                content: `Slide ${i + 3}: Principle ${i + 3}`,
                questions: [
                    { id: 1, text: `Question 1 for Slide ${i + 3}`, options: ["Option 1", "Option 2", "Option 3", "Option 4"], correct: 0 },
                    { id: 2, text: `Question 2 for Slide ${i + 3}`, options: ["Option 1", "Option 2", "Option 3", "Option 4"], correct: 1 },
                    { id: 3, text: `Question 3 for Slide ${i + 3}`, options: ["Option 1", "Option 2", "Option 3", "Option 4"], correct: 2 }
                ]
            }))
        ];

        let currentSlideIndex = 0;
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let score = 0;
        let startTime = null;
        let timerInterval = null;

        function showSection(sectionId) {
            document.querySelectorAll('.auth-section, .welcome-section, .loading-section, .quiz-section, .scorecard-section, .review-section')
                .forEach(section => section.classList.add('hidden'));
            document.getElementById(sectionId).classList.remove('hidden');
        }

        function handleLogin() {
            showSection('welcome-section');
            startTimer();
        }

        function handleRegister() {
            showSection('welcome-section');
            startTimer();
        }

        function startLearning() {
            showSection('quiz-section');
            loadSlide();
        }

        function startTimer() {
            startTime = Date.now();
            timerInterval = setInterval(updateTimer, 1000);
        }

        function updateTimer() {
            const elapsed = Math.floor((Date.now() - startTime) / 1000);
            const hours = Math.floor(elapsed / 3600).toString().padStart(2, '0');
            const minutes = Math.floor((elapsed % 3600) / 60).toString().padStart(2, '0');
            const seconds = (elapsed % 60).toString().padStart(2, '0');
            document.getElementById('timer').textContent = `${hours}:${minutes}:${seconds}`;
        }

        function loadSlide() {
            const slide = slides[currentSlideIndex];
            document.getElementById('slide-content').textContent = slide.content;
            document.getElementById('navigation-section').classList.remove('hidden');
            document.getElementById('question-section').classList.add('hidden');
            document.getElementById('start-quiz').classList.remove('hidden');
            document.getElementById('prev-question').classList.add('hidden');
            document.getElementById('next-question').classList.add('hidden');
        }

        function startQuiz() {
            currentQuestionIndex = 0;
            userAnswers[currentSlideIndex] = userAnswers[currentSlideIndex] || [];
            document.getElementById('navigation-section').classList.add('hidden');
            document.getElementById('question-section').classList.remove('hidden');
            loadQuestion();
        }

        function loadQuestion() {
            const slide = slides[currentSlideIndex];
            const question = slide.questions[currentQuestionIndex];
            document.getElementById('question-title').textContent = `Question ${currentQuestionIndex + 1} of ${slide.questions.length}`;
            document.getElementById('question-text').textContent = question.text;
            const optionsDiv = document.getElementById('options');
            optionsDiv.innerHTML = '';
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.textContent = option;
                button.onclick = () => selectOption(index);
                optionsDiv.appendChild(button);
            });
            document.getElementById('prev-question').classList.toggle('hidden', currentQuestionIndex === 0);
            document.getElementById('next-question').classList.add('hidden'); // Hide Next button
        }

        function selectOption(optionIndex) {
            const slide = slides[currentSlideIndex];
            userAnswers[currentSlideIndex] = userAnswers[currentSlideIndex] || [];
            userAnswers[currentSlideIndex][currentQuestionIndex] = optionIndex;
            if (optionIndex === slide.questions[currentQuestionIndex].correct) {
                score++;
            }
            // Auto-advance to next question
            if (currentQuestionIndex < slide.questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                // Auto-advance to next slide
                if (currentSlideIndex < slides.length - 1) {
                    currentSlideIndex++;
                    loadSlide();
                } else {
                    showScoreCard();
                }
            }
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }

        function nextQuestion() {
            // Not used due to auto-advance, but kept for manual navigation if needed
            if (currentQuestionIndex < slides[currentSlideIndex].questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                if (currentSlideIndex < slides.length - 1) {
                    currentSlideIndex++;
                    loadSlide();
                } else {
                    showScoreCard();
                }
            }
        }

        function prevSlide() {
            if (currentSlideIndex > 0) {
                currentSlideIndex--;
                loadSlide();
            }
        }

        function showScoreCard() {
            clearInterval(timerInterval);
            showSection('scorecard-section');
            const totalQuestions = slides.reduce((sum, slide) => sum + slide.questions.length, 0);
            const percentage = (score / totalQuestions) * 100;
            const grade = percentage >= 80 ? 'A' : percentage >= 60 ? 'B' : 'C';
            document.getElementById('scorecard-name').textContent = 'User';
            document.getElementById('scorecard-marks').textContent = `${score} / ${totalQuestions}`;
            document.getElementById('scorecard-grade').textContent = grade;
            document.getElementById('scorecard-time').textContent = document.getElementById('timer').textContent;
        }

        function downloadScoreCard() {
            alert('Score card download not implemented.');
        }

        function retakeCourse() {
            currentSlideIndex = 0;
            currentQuestionIndex = 0;
            userAnswers = [];
            score = 0;
            startTime = null;
            clearInterval(timerInterval);
            showSection('welcome-section');
        }

        // Initialize
        showSection('auth-section');
    </script>
</body>
</html>
